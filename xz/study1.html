<!DOCTYPE html>

<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="referrer" content="always">
<meta http-equiv="X-UA-Compatible" content="IE=7">
<title>语数外课程</title>
<meta name="description" content="">
<meta name="keywords" content="">
<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link href="./css/iconfont.css" type="text/css" rel="stylesheet">
<link href="./css/mui.min.css" type="text/css" rel="stylesheet">
<link href="./css/base.css" type="text/css" rel="stylesheet">
<style >

</style>
</head>
<body>
<!-- header-bar -->
<div class="study_header">
	<img src="images/go1.jpg"/>
</div>
<!-- menu -->
<div class="study_menu">
	<ul>
		<li>
			<span>阶段<i class="iconfont icon-back"></i></span>
			<div class="study_menu_big">	
			</div>
		</li>
		<li>
			<span>年级<i class="iconfont icon-back"></i></span>
			<div class="study_menu_sm1">
				<p>大班</p>
				<p>中班</p>
				<p>小班</p>
			</div>
		</li>
		<li>
			<span>科目<i class="iconfont icon-back"></i></span>
			<div class="study_menu_sm2">
				<p>语文</p>
				<p>数学</p>
				<p>外语</p>
			</div>
		</li>
	</ul>
</div>
<div class="study_content">
	<!--下拉刷新容器-->
	<div id="pullrefresh" class="mui-content mui-scroll-wrapper">
		<div class="mui-scroll">
			<!--数据列表-->
			<ul class="mui-table-view mui-table-view-chevron">
				
			</ul>
		</div>
	</div>
	
</div>

<div class="kong"></div>
<!-- footer -->
<div class="footer">
	<div class="left">
		<p><a href="tel:12345"/><i class="iconfont icon-bohao"></i></a></p>
		<p>一键拨号</p>
	</div>
	<div class="center">
		<p><a href="index.html"><i class="iconfont icon-cloud-home"></i></a></p>
		<p>主页</p>
	</div>
	<div class="right">
		<p><i class="iconfont icon-duanxin"></i></p>
		<p>售后服务</p>
	</div>
</div>
</body>
<script src="./js/jquery-1.8.2.js" language="javascript"></script>
<script src="./js/mui.min.js"></script>
<script src="./js/base.js" language="javascript"></script>
<script src="./js/study.js" language="javascript"></script>
<script>
var study_menu=[
{"id":"0","name":"幼儿园及小学阶段","child":[{"id":"00","name":"大班","child":[{"id":"000","name":"语文"},{"id":"001","name":"数学"},{"id":"002","name":"英语"}]},{"id":"01","name":"中班","child":[{"id":"010","name":"语文"},{"id":"011","name":"数学"},{"id":"012","name":"英语"}]},{"id":"02","name":"小班","child":[{"id":"020","name":"语文"},{"id":"021","name":"数学"},{"id":"022","name":"英语"}]}]},
{"id":"1","name":"初中阶段","child":[{"id":"10","name":"初一","child":[{"id":"100","name":"语文"},{"id":"101","name":"数学"},{"id":"102","name":"英语"}]},{"id":"11","name":"初二","child":[{"id":"110","name":"语文"},{"id":"111","name":"数学"},{"id":"112","name":"英语"}]},{"id":"12","name":"初三","child":[{"id":"120","name":"语文"},{"id":"121","name":"数学"},{"id":"122","name":"英语"}]}]},
{"id":"1","name":"初中阶段","child":[{"id":"10","name":"初一","child":[{"id":"100","name":"语文"},{"id":"101","name":"数学"},{"id":"102","name":"英语"}]},{"id":"11","name":"初二","child":[{"id":"110","name":"语文"},{"id":"111","name":"数学"},{"id":"112","name":"英语"}]},{"id":"12","name":"初三","child":[{"id":"120","name":"语文"},{"id":"121","name":"数学"},{"id":"122","name":"英语"}]}]}];
console.log(1);
console.log(study_menu);
$(function(){
	for(var i=0;i<3;i++){
		$('.study_menu_big').html('<p>'+study_menu[i].name+'<\/p>');
	}
	$('.study_menu_big p').on('click',function(){
		var index=$(this).index();

});
});

var str_study=[];
function Study_box(img,title,price,time,id){
	this.img=img;
	this.title=title;
	this.price=price;
	this.time=time;
	this.id=id;
}

str_study.push(new Study_box("images/go2.jpg",'1训练版 (4-12岁/幼儿园及小学阶段)','¥ 3980','110课时',1));
str_study.push(new Study_box("images/go2.jpg",'2训练版 (4-12岁/幼儿园及小学阶段)','¥ 3980','110课时',1));
str_study.push(new Study_box("images/go2.jpg",'3训练版 (4-12岁/初中阶段)','¥ 3980','110课时',1));
str_study.push(new Study_box("images/go2.jpg",'4训练版 (4-12岁/高中阶段)','¥ 3980','110课时',1));
str_study.push(new Study_box("images/go2.jpg",'5训练版 (4-12岁/幼儿园及小学阶段)','¥ 3980','110课时',1));
str_study.push(new Study_box("images/go2.jpg",'6训练版 (4-12岁/初中阶段)','¥ 3980','110课时',1));
str_study.push(new Study_box("images/go2.jpg",'7训练版 (4-12岁/幼儿园及小学阶段)','¥ 3980','110课时',1));
str_study.push(new Study_box("images/go2.jpg",'8训练版 (4-12岁/高中阶段)','¥ 3980','110课时',1));
str_study.push(new Study_box("images/go2.jpg",'9训练版 (4-12岁/高中阶段)','¥ 3980','110课时',1));
str_study.push(new Study_box("images/go2.jpg",'10训练版 (4-12岁/初中阶段)','¥ 3980','110课时',1));
var max=str_study.length;

	mui.init({
		pullRefresh: {
			container: '#pullrefresh',
			down: {
				callback: pulldownRefresh
			},
			up: {
				contentrefresh: '正在加载...',
				callback: pullupRefresh
			}
		}
	});
	/**
	 * 下拉刷新具体业务实现
	 */
	function pulldownRefresh() {
		setTimeout(function() {
			var table = document.body.querySelector('.mui-table-view');
			var cells = document.body.querySelectorAll('.mui-table-view-cell');
			for (var i = cells.length, len = Math.min((i + 1),max); i < len; i++) {
				var li = document.createElement('li');
				li.className = 'mui-table-view-cell';
				li.innerHTML = '<div class=\"study_box\">\
									<div class=\"left\"><img src=\"'+str_study[i].img+'\"\/><\/div>\
									<div class=\"right\">\
										<p>'+str_study[i].title+'<\/p>\
										<strong>'+str_study[i].price+'<\/strong>\
										<p><span>'+str_study[i].time+'<\/span><\/p>\
										<a href=\"'+str_study[i].id+'\"><span class=\"study_buttom\">立即预约<\/span><\/a>\
									<\/div>\
								<\/div>';
				//下拉刷新，新纪录插到最前面；
				table.insertBefore(li, table.firstChild);
			}
			mui('#pullrefresh').pullRefresh().endPulldownToRefresh(); //refresh completed
		}, 1500);
	}
	var count = 0;
	/**
	 * 上拉加载具体业务实现
	 */
	function pullupRefresh() {
		setTimeout(function() {
			mui('#pullrefresh').pullRefresh().endPullupToRefresh((++count > 2)); //参数为true代表没有更多数据了。
			var table = document.body.querySelector('.mui-table-view');
			var cells = document.body.querySelectorAll('.mui-table-view-cell');
			for (var i = cells.length, len =Math.min((i + 4),max); i < len; i++) {
				var li = document.createElement('li');
				li.className = 'mui-table-view-cell';
				li.innerHTML = '<div class=\"study_box\">\
									<div class=\"left\"><img src=\"'+str_study[i].img+'\"\/><\/div>\
									<div class=\"right\">\
										<p>'+str_study[i].title+'<\/p>\
										<strong>'+str_study[i].price+'<\/strong>\
										<p><span>'+str_study[i].time+'<\/span><\/p>\
										<a href=\"'+str_study[i].id+'\"><span class=\"study_buttom\">立即预约<\/span><\/a>\
									<\/div>\
								<\/div>';
				table.appendChild(li);
			}
		}, 1500);
	}
	if (mui.os.plus) {
		mui.plusReady(function() {
			setTimeout(function() {
				mui('#pullrefresh').pullRefresh().pullupLoading();
			}, 1000);

		});
	} else {
		mui.ready(function() {
			mui('#pullrefresh').pullRefresh().pullupLoading();
		});
	}
</script>

</html>